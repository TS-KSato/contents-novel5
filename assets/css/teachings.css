:root{
  --bg:#0b0d12; --ink:#ffffff; --muted:#aeb7d0; --line:#27304a; --card:#151826;
  --accent:#9fd3ff; --accent-2:#1a3358; --accent-2-b:#34507c;
  --radius:.875rem; --pad:1rem; --gap:.75rem; --tap:2.75rem;
  --success:#6bd8a6; --warning:#ffd27e;
}
*{box-sizing:border-box}
html{font-size:16px}
body{margin:0;background:var(--bg);color:var(--ink);
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN","Yu Gothic","Noto Sans JP","Meiryo",sans-serif;line-height:1.75}
a{color:inherit;text-decoration:none;-webkit-tap-highlight-color:transparent}
.wrap{max-width:40rem;margin:0 auto;padding:var(--pad)}
header.appbar{position:sticky;top:0;z-index:10;background:#10162a;border-bottom:1px solid var(--line);backdrop-filter:blur(8px)}
.appbar .inner{display:flex;align-items:center;gap:.75rem;padding:.75rem var(--pad)}
.appbar .avatar{width:36px;height:36px;border-radius:50%;display:grid;place-items:center;background:linear-gradient(135deg,#1a3358,#0f1a34);color:#cfe1ff;font-weight:700;border:1px solid var(--line)}
.appbar h1{margin:0;font-size:1rem;letter-spacing:.02em}
.appbar .sub{display:block;color:var(--muted);font-size:.78rem}
.grid{display:grid;grid-template-columns:1fr;gap:var(--gap)}
.card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);padding:var(--pad)}
.search{display:flex;gap:.5rem;align-items:center;border:1px solid var(--line);background:#10162a;border-radius:.675rem;padding:.5rem .75rem}
.search input{flex:1;border:0;background:transparent;color:var(--ink);outline:none;font-size:.95rem}
.rooms{display:grid;gap:.5rem;max-height:45vh;overflow:auto}
.room-item{display:flex;gap:.75rem;align-items:center;width:100%;background:#0f162b;border:1px solid var(--line);border-radius:.75rem;padding:.625rem .875rem;transition:.2s}
.room-item:hover{background:#14203a;border-color:#34507c}
.room-item:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.room-item.active{background:#16233c;border-color:#3a4b78}
.r-name{font-weight:800;font-size:1.05rem;line-height:1.25;color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.r-meta{color:var(--muted);font-size:.84rem;margin-top:.125rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.thread{display:grid;gap:.75rem}
.section-date{text-align:center;color:#c0cbed;font-size:.78rem}
.msg{max-width:78%;background:#121829;border:1px solid var(--line);border-radius:.75rem;padding:.5rem .75rem}
.msg .who{font-weight:700;font-size:.85rem}
.msg .text{white-space:pre-wrap;word-break:break-word}
.msg .meta{color:var(--muted);font-size:.75rem;margin-top:.25rem}
.msg.laila{margin-left:auto;background:#16233c;border-color:#2f3b63}
.empty{text-align:center;color:var(--muted);padding:1.25rem}
.bottom-nav{position:fixed;left:0;right:0;bottom:0;z-index:999;background:rgba(15,22,40,.85);backdrop-filter:blur(8px);border-top:1px solid var(--line)}
.bn-grid{max-width:40rem;margin:0 auto;display:grid;grid-template-columns:repeat(3,1fr)}
.bn-btn{appearance:none;background:none;border:0;color:#aeb7d0;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.375rem 0;min-height:3.25rem;font-size:.75rem}
.bn-btn:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.bn-icon{width:20px;height:20px;margin-bottom:.125rem;border:1px solid var(--line);border-radius:4px;display:inline-grid;place-items:center}
.bn-accent{color:#fff}
footer{height:3.5rem}
@media (max-width:820px){.grid{grid-template-columns:1fr}.rooms{max-height:32vh}}
@media (prefers-contrast:more){.r-name{color:#fff}.room-item{border-color:#3f4b78}.room-item.active{box-shadow:inset 4px 0 0 0 var(--accent)}}
