/* archetype-path.css — 固有スタイル（app.css / components.css 前提） */

/* ヘッダー */
header{text-align:center;padding:.5rem 0 .25rem}
h1{margin:.25rem 0;font-size:clamp(1.15rem,5vw,1.5rem)}
.lead{color:var(--muted);font-size:.9rem}

/* 軸選択UI */
.axis-list { display: grid; gap: 1rem; margin: 1rem 0; }
.axis { 
  padding: 1rem; 
  border: 1px solid var(--line); 
  border-radius: 0.75rem; 
  background: #0f162b; 
}
.axis-title { 
  font-weight: 700; 
  margin-bottom: 0.75rem; 
  text-align: center;
  color: var(--accent);
}
.toggle { 
  display: flex; 
  align-items: center; 
  gap: 1rem; 
  justify-content: space-between;
}
.toggle .opt { 
  font-size: 0.9rem; 
  color: var(--muted); 
  min-width: 0;
  text-align: center;
}
.switch { 
  position: relative; 
  display: inline-block; 
  width: 3.5rem; 
  height: 2rem; 
  flex-shrink: 0;
}
.switch input { 
  opacity: 0; 
  width: 0; 
  height: 0; 
}
.knob { 
  position: absolute; 
  cursor: pointer; 
  top: 0; left: 0; right: 0; bottom: 0;
  background: var(--line); 
  border-radius: 2rem;
  transition: 0.3s;
}
.knob:before { 
  position: absolute; 
  content: ""; 
  height: 1.5rem; 
  width: 1.5rem; 
  left: 0.25rem; 
  bottom: 0.25rem; 
  background: white; 
  border-radius: 50%;
  transition: 0.3s;
}
.switch input:checked + .knob { 
  background: var(--accent-2); 
}
.switch input:checked + .knob:before { 
  transform: translateX(1.5rem); 
}

/* ステップナビ（フェーズ表示） */
.steps{
  display:grid;grid-template-columns:repeat(4,1fr);gap:.375rem;margin:.5rem 0 .75rem
}
.step{
  text-align:center;padding:.4rem .25rem;border:1px solid var(--line);border-radius:.6rem;
  background:#0f162b;color:#cfe1ff;font-size:.8rem
}
.step[aria-current="step"]{background:#16233c;border-color:#3a4b78;font-weight:800}
.step.done{background:#14203a;border-color:#34507c;color:#e7f2ff}

/* セクションカード（.card は共通を利用） */
.section{margin:.65rem 0}
.section .label{font-weight:800;color:#cfe1ff;margin:0 0 .35rem}
.section .desc{color:#9fb0d3;font-size:.9rem;margin:.15rem 0 .4rem}

/* Phase1: 元型診断（5種） */
.archetype-grid{display:grid;grid-template-columns:1fr 1fr;gap:.5rem}
@media(min-width:560px){.archetype-grid{grid-template-columns:repeat(3,1fr)}}
.type{
  display:flex;align-items:center;gap:.5rem;padding:.6rem;border:1px solid var(--line);
  border-radius:.75rem;background:#10162a;cursor:pointer;transition:.15s ease
}
.type:hover{background:#13203a;border-color:#34507c}
.type:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.type .avatar{
  /* 共通 .avatar を活かしつつサイズだけ特化 */
  width:52px;height:52px;background:#10172a center/cover no-repeat
}
.type .meta{min-width:0}
.type .name{font-weight:800;line-height:1.35;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.type .sub{color:#9aa3b2;font-size:.82rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-top:.15rem}
.type[aria-checked="true"]{box-shadow:inset 0 0 0 2px rgba(159,211,255,.28); border-color:#3a4b78}

/* CTA領域 */
.cta{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.5rem}
.btn.primary{background:#1a3358;border-color:#34507c;font-weight:800}
.btn[disabled], .primary[disabled]{opacity:.55;cursor:not-allowed}

/* Phase2: 十の質問（2択×複数） */
.q-list{display:grid;gap:.5rem}
.q-item{
  border:1px solid var(--line);border-radius:.75rem;background:#0f162b;padding:.6rem
}
.q-title{font-weight:800;margin:0 0 .35rem}
.q-choices{display:grid;grid-template-columns:1fr 1fr;gap:.5rem}
.q-choices .choice{
  display:flex;align-items:center;gap:.45rem;border:1px solid var(--line);border-radius:.65rem;
  background:#10162a;padding:.55rem .6rem;cursor:pointer;transition:.15s ease
}
.q-choices .choice:hover{background:#13203a;border-color:#34507c}
.q-choices .choice[aria-checked="true"]{box-shadow:inset 0 0 0 2px rgba(159,211,255,.28); border-color:#3a4b78}
.q-help{color:#9fb0d3;font-size:.82rem;margin-top:.35rem}

/* Phase3: 役割付与（ラジオ） */
.role-list{display:grid;grid-template-columns:1fr 1fr;gap:.5rem}
.role{
  display:flex;align-items:center;gap:.45rem;border:1px solid var(--line);border-radius:.75rem;
  background:#10162a;padding:.6rem;cursor:pointer
}
.role[aria-checked="true"]{box-shadow:inset 0 0 0 2px rgba(159,211,255,.28); border-color:#3a4b78}
.role .badge{display:inline-flex;align-items:center;gap:.25rem;padding:.15rem .5rem;border-radius:999px;border:1px solid var(--line);background:#0f1528;color:#cfe1ff;font-size:.72rem}

/* Phase4: 神託（結果表示） */
.result{display:grid;gap:.5rem}
.hero{
  display:flex;gap:.75rem;align-items:center
}
.hero .avatar{width:64px;height:64px}
.hero .name{font-weight:800}
.hero .role{color:#cdd5ea;font-size:.9rem}
.oracle{
  background:#121829;border:1px solid var(--line);border-radius:.75rem;padding:.6rem
}
.oracle p{margin:.25rem 0;color:#e0e7ff;line-height:1.7}

/* 結果表示の追加スタイル */
.result-content {
  padding: 1rem;
  border: 1px solid var(--line);
  border-radius: 0.75rem;
  background: #0f162b;
}
.oracle-message {
  margin-top: 1rem;
  padding: 1rem;
  background: var(--accent-2);
  border-radius: 0.5rem;
  border-left: 4px solid var(--accent);
}

/* アーキタイプ結果表示 */
.result-header {
  text-align: center;
  margin-bottom: 1.5rem;
}
.result-header h3 {
  font-size: 1.5rem;
  color: var(--accent);
  margin-bottom: 1rem;
}
.result-oracle {
  background: var(--accent-2);
  border: 1px solid var(--accent-2-b);
  border-radius: 0.75rem;
  padding: 1rem;
  margin: 1rem 0;
}
.result-oracle blockquote {
  margin: 0;
  font-style: italic;
  color: var(--accent);
  font-size: 1.1rem;
  line-height: 1.6;
}
.result-body {
  display: grid;
  gap: 1rem;
}
.result-message, .result-guidance, .result-keywords {
  padding: 1rem;
  border: 1px solid var(--line);
  border-radius: 0.5rem;
  background: #10172a;
}
.result-message h4, .result-guidance h4, .result-keywords h4 {
  margin: 0 0 0.5rem;
  color: var(--accent);
  font-size: 1rem;
}
.result-message p, .result-guidance p {
  margin: 0;
  line-height: 1.7;
}
.keywords {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}
.keyword {
  display: inline-block;
  background: var(--accent-2);
  color: var(--accent);
  padding: 0.25rem 0.5rem;
  border-radius: 999px;
  font-size: 0.85rem;
  border: 1px solid var(--accent-2-b);
}

/* インジケータ（ローディング／無効化） */
.dim{opacity:.6;pointer-events:none;filter:saturate(.7)}
.spinner{width:20px;height:20px;border-radius:50%;border:2px solid #2f3b63;border-top-color:#9fd3ff;animation:s1 .9s linear infinite}
@keyframes s1{to{transform:rotate(360deg)}}

/* 注意文（ポリシー） */
.note{
  color:#c8d4e8;font-size:.82rem;margin-top:.35rem
}